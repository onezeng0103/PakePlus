/* empty css             *//* empty css              */import{_ as e,u as a,d as l,j as s,E as i,k as o}from"./index-DrVrvTnw.js";import{aD as n,r as t,X as d,k as u,u as r,Y as c,F as m,a4 as p,t as v,an as f,W as b}from"./vue-vendor-kmzIwNuM.js";import{s as E,d as k}from"./ui-vendor-B3b54x8g.js";import"./lodash-es-Bns1-fiI.js";const y={class:"fund-password"},h={class:"label"},x=["placeholder"],j={class:"label"},g={class:"code"},C=["placeholder"],_={key:0,class:"code-but"},I={style:{"font-size":"16px","margin-bottom":"10px"}},V=e({__name:"index",setup(e){var V;const{t:w}=a(),U=l();U.getUserInfo();const{userInfo:z}=n(U),D=t(null==(V=z.value.user)?void 0:V.email),F=t(D.value),S=t({email:"",code:""}),$=t(0),A=t(!1),B=()=>{""!=S.value.email?s("BIND",S.value.email).then(e=>{"200"==e.code?(A.value=!0,$.value=6e4,E(e.msg)):E(e.msg)}):E(w("pleaseEnterEmail"))},N=()=>{A.value=!1},W=()=>{""!=S.value.email?""!=S.value.code?i(S.value.email,S.value.code).then(e=>{"200"==e.code?(E(w("bindSuccess")),D.value=S.value.email,F.value=!0):E(e.msg)}):E(w("pleaseEnterVerificationCode")):E(w("pleaseEnterEmail"))};return(e,a)=>{const l=o,s=k;return b(),d(m,null,[u(l,{title:r(w)("bindEmail")},null,8,["title"]),c("div",y,[r(F)?(b(),d(m,{key:1},[c("div",I,p(r(w)("bindEmailSuccess")),1),c("div",null,p(r(w)("email"))+"ï¼š"+p(r(D)),1)],64)):(b(),d(m,{key:0},[c("div",h,p(r(w)("emailAddress")),1),v(c("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>r(S).email=e),placeholder:`${r(w)("pleaseEnterEmail")}`,style:{"font-size":"17px"}},null,8,x),[[f,r(S).email]]),c("div",j,p(r(w)("verificationCode")),1),c("div",g,[v(c("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r(S).code=e),type:"text",placeholder:`${r(w)("pleaseEnterVerificationCode")}`},null,8,C),[[f,r(S).code]]),r(A)?(b(),d("div",_,[u(s,{time:r($),format:"ss",onFinish:N,style:{color:"#ffffff"}},null,8,["time"])])):(b(),d("div",{key:1,class:"code-but",onClick:B},p(r(w)("send")),1))])],64)),r(F)?(b(),d("div",{key:3,class:"fund-password-btn",onClick:a[2]||(a[2]=e=>F.value=!1)},[c("span",null,p(r(w)("changeEmail")),1)])):(b(),d("div",{key:2,class:"fund-password-btn",onClick:W},[c("span",null,p(r(w)("confirm")),1)]))])],64)}}},[["__scopeId","data-v-794012b4"]]);export{V as default};
