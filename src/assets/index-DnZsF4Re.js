import{_ as e,u as o,e as a,d as t,l,b as i,j as n,m as s,k as c}from"./index-DrVrvTnw.js";import{ay as d,r as u,c as r,W as p,X as v,Y as m,t as g,an as h,u as y,aG as C,a0 as f,a4 as w,g as k,B as x,a3 as E,k as P,F as L,aa as A,a2 as b,y as I}from"./vue-vendor-kmzIwNuM.js";import{t as N,d as V}from"./lodash-es-Bns1-fiI.js";import{s as U,d as T}from"./ui-vendor-B3b54x8g.js";/* empty css             *//* empty css              */import{P as M}from"./index-D6Rby_z3.js";/* empty css              */const _={class:"account-login"},R={class:"account-login-form"},S={class:"account-login-form-item"},z={class:"account-login-form-item-input"},j=["placeholder"],Z={class:"account-login-form-item"},D={class:"account-login-form-item-input"},q=["type","placeholder"],$={class:"account-login-tip"},B={class:"account-login-form-item"},G={class:"account-login-form-item-input"},O=["type","placeholder"],F={class:"account-login-form-item"},H={class:"account-login-form-item-label"},W={style:{"font-size":"12px"}},X={class:"account-login-form-item-input"},Y=["placeholder"],J={key:0,class:"account-login-form-item"},K={class:"account-login-form-item-label"},Q={class:"account-login-form-item-input"},ee=["placeholder"],oe=["src"],ae={class:"account-login-tip",style:{"margin-top":"24px"}},te=e({__name:"AccountRegister",setup(e){const{t:n}=o(),s=a(),c=t(),P=d(),L=u(+new Date),A="ArkaDex",b=u(!1),I=u(!1),V=r(()=>`${s.verificationCodeUrl}?codeType=LOGIN&timestamp=${L.value}`),T=()=>{L.value=+new Date},M=()=>{le.value.loginName=le.value.loginName.toLowerCase()},te=u(""),le=u({loginName:"",loginPassword:"",activeCode:"",code:"",signType:3}),ie=r(()=>!!s.getLoginMethodList.inviteCodeRequired),ne=u(!1),se=r(()=>s.getLoginMethodList.autoLogin),ce=r(()=>s.getLoginMethodList.accountCode),de=N(()=>{le.value.loginName?/^[a-zA-Z0-9]{6,15}$/.test(le.value.loginName)?le.value.loginPassword?/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)[A-Za-z\d]{8,32}$/.test(le.value.loginPassword)?te.value?!ce.value||le.value.code?!ie.value||le.value.activeCode?le.value.loginPassword===te.value?(ne.value=!0,l(le.value).then(e=>{"200"==e.code?(ne.value=!1,U(n("registerSuccess")),se.value?setTimeout(()=>{if("200"==e.code&&e.data.satoken){U(n("loginSuccess"));let o=e.data.satoken;c.setIsSign(!0),c.setToken(o),setTimeout(()=>{P.replace("/"),c.getUserInfo()},500)}else U(e.msg)},1e3):P.push("/login")):(ne.value=!1,U(e.msg))})):U(n("passwordNotMatch")):U(n("pleaseEnterInviteCode")):U(n("pleaseEnterVerificationCode")):U(n("pleaseEnterPasswordAgain")):U(n("pleaseEnterPasswordLength")):U(n("pleaseEnterPassword")):U(n("pleaseEnterAccountLength")):U(n("pleaseEnterAccount"))},3e3);return(e,o)=>{const a=i;return p(),v("div",_,[m("div",R,[m("div",S,[m("div",z,[g(m("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>y(le).loginName=e),placeholder:y(n)("pleaseEnterAccount"),onInput:M},null,40,j),[[h,y(le).loginName,void 0,{trim:!0}]])])]),m("div",Z,[m("div",D,[g(m("input",{type:y(b)?"text":"password","onUpdate:modelValue":o[1]||(o[1]=e=>y(le).loginPassword=e),placeholder:y(n)("pleaseEnterPassword")},null,8,q),[[C,y(le).loginPassword,void 0,{trim:!0}]]),y(b)?(p(),f(a,{key:1,onClick:o[3]||(o[3]=e=>b.value=!y(b)),name:"openeyes",style:{width:"16px",height:"16px"}})):(p(),f(a,{key:0,onClick:o[2]||(o[2]=e=>b.value=!y(b)),name:"bieyes",style:{width:"16px",height:"16px"}}))]),m("div",$,[m("div",null,w(y(n)("passwordLength")),1)])]),m("div",B,[m("div",G,[g(m("input",{type:y(I)?"text":"password","onUpdate:modelValue":o[4]||(o[4]=e=>k(te)?te.value=e:null),placeholder:y(n)("pleaseEnterPasswordAgain")},null,8,O),[[C,y(te),void 0,{trim:!0}]]),y(I)?(p(),f(a,{key:1,onClick:o[6]||(o[6]=e=>I.value=!y(I)),name:"openeyes",style:{width:"16px",height:"16px"}})):(p(),f(a,{key:0,onClick:o[5]||(o[5]=e=>I.value=!y(I)),name:"bieyes",style:{width:"16px",height:"16px"}}))])]),m("div",F,[m("div",H,[x(w(y(n)("inviteCode"))+" ",1),m("span",W," ("+w(y(ie)?y(n)("required"):y(n)("optional"))+") ",1)]),m("div",X,[g(m("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=e=>y(le).activeCode=e),placeholder:y(n)("pleaseEnterInviteCode")},null,8,Y),[[h,y(le).activeCode,void 0,{trim:!0}]])])]),y(ce)?(p(),v("div",J,[m("div",K,w(y(n)("verificationCode")),1),m("div",Q,[g(m("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=e=>y(le).code=e),placeholder:y(n)("pleaseEnterVerificationCode")},null,8,ee),[[h,y(le).code,void 0,{trim:!0}]]),m("img",{onClick:T,src:y(V),style:{width:"100px",height:"40px"}},null,8,oe)])])):E("",!0)]),m("div",{class:"account-login-btn",onClick:o[9]||(o[9]=(...e)=>y(de)&&y(de)(...e))},w(y(n)("register")),1),m("div",{class:"account-login-btn2",onClick:o[10]||(o[10]=e=>y(P).push("/login"))},[x(w(y(n)("alreadyHaveAccount"))+" "+w(y(A))+" "+w(y(n)("account"))+"? ",1),m("span",null,w(y(n)("login")),1)]),m("div",ae,[m("div",null,[x(w(y(n)("continueToRegister"))+" ",1),m("span",{onClick:o[11]||(o[11]=e=>y(P).push("/userAgreement"))}," 《"+w(y(A))+" "+w(y(n)("userAgreement"))+"》 ",1),x(" "+w(y(n)("and"))+" ",1),m("span",{onClick:o[12]||(o[12]=e=>y(P).push("/privacyPolicy"))},"《"+w(y(n)("privacyPolicy"))+"》",1)])])])}}},[["__scopeId","data-v-13af9b44"]]),le={class:"account-login"},ie={class:"account-login-form"},ne={class:"account-login-form-item"},se={class:"account-login-form-item-input"},ce=["placeholder"],de={class:"account-login-form-item"},ue={class:"account-login-form-item-input"},re=["type","placeholder"],pe={class:"account-login-tip"},ve={class:"account-login-form-item"},me={class:"account-login-form-item-input"},ge=["type","placeholder"],he={class:"account-login-form-item"},ye={class:"account-login-form-item-label"},Ce={style:{"font-size":"12px"}},fe={class:"account-login-form-item-input"},we=["placeholder"],ke={key:0,class:"account-login-form-item"},xe={class:"account-login-form-item-label"},Ee={class:"account-login-form-item-input"},Pe=["placeholder"],Le={class:"code"},Ae={key:1},be={class:"account-login-tip",style:{"margin-top":"24px"}},Ie=e({__name:"EmailRegister",setup(e){const{t:s}=o(),c=a(),L=t(),A=d(),b=u(""),I=u(!1),M=u(!1),_="ArkaDex",R=u(0),S=u(!1),z=()=>{S.value=!1},j=u({email:"",loginPassword:"",activeCode:"",code:"",signType:1}),Z=u(!1),D=V(()=>{j.value.email?(Z.value=!0,n("REGISTER",j.value.email).then(e=>{"200"==e.code?(Z.value=!1,U(e.msg),S.value=!0,R.value=6e4):Z.value=!1})):U(s("pleaseEnterEmail"))},100),q=r(()=>c.getLoginMethodList.autoLogin),$=r(()=>!!c.getLoginMethodList.inviteCodeRequired),B=r(()=>c.getLoginMethodList.emailCode),G=N(()=>{j.value.email?j.value.loginPassword?/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)[A-Za-z\d]{8,32}$/.test(j.value.loginPassword)?b.value?!$.value||j.value.activeCode?!B.value||j.value.code?j.value.loginPassword===b.value?l(j.value).then(e=>{"200"==e.code?(U(s("registerSuccess")),q.value?setTimeout(()=>{if("200"==e.code&&e.data.satoken){U(s("loginSuccess"));let o=e.data.satoken;L.setIsSign(!0),L.setToken(o),setTimeout(()=>{A.replace("/"),L.getUserInfo()},500)}else U(e.msg)},1e3):A.push("/login")):U(e.msg)}):U(s("passwordNotMatch")):U(s("pleaseEnterVerificationCode")):U(s("pleaseEnterInviteCode")):U(s("pleaseEnterPasswordAgain")):U(s("pleaseEnterPasswordLength")):U(s("pleaseEnterPassword")):U(s("pleaseEnterEmail"))},3e3);return(e,o)=>{const a=i,t=T;return p(),v("div",le,[m("div",ie,[m("div",ne,[m("div",se,[g(m("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>y(j).email=e),placeholder:y(s)("pleaseEnterEmail")},null,8,ce),[[h,y(j).email,void 0,{trim:!0}]])])]),m("div",de,[m("div",ue,[g(m("input",{type:y(I)?"text":"password","onUpdate:modelValue":o[1]||(o[1]=e=>y(j).loginPassword=e),placeholder:y(s)("pleaseEnterPassword")},null,8,re),[[C,y(j).loginPassword,void 0,{trim:!0}]]),y(I)?(p(),f(a,{key:1,onClick:o[3]||(o[3]=e=>I.value=!y(I)),name:"openeyes",style:{width:"16px",height:"16px"}})):(p(),f(a,{key:0,onClick:o[2]||(o[2]=e=>I.value=!y(I)),name:"bieyes",style:{width:"16px",height:"16px"}}))]),m("div",pe,[m("div",null,w(y(s)("passwordLength")),1)])]),m("div",ve,[m("div",me,[g(m("input",{type:y(M)?"text":"password","onUpdate:modelValue":o[4]||(o[4]=e=>k(b)?b.value=e:null),placeholder:y(s)("pleaseEnterPasswordAgain")},null,8,ge),[[C,y(b),void 0,{trim:!0}]]),y(M)?(p(),f(a,{key:1,onClick:o[6]||(o[6]=e=>M.value=!y(M)),name:"openeyes",style:{width:"16px",height:"16px"}})):(p(),f(a,{key:0,onClick:o[5]||(o[5]=e=>M.value=!y(M)),name:"bieyes",style:{width:"16px",height:"16px"}}))])]),m("div",he,[m("div",ye,[x(w(y(s)("inviteCode"))+" ",1),m("span",Ce," ("+w(y($)?y(s)("required"):y(s)("optional"))+") ",1)]),m("div",fe,[g(m("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=e=>y(j).activeCode=e),placeholder:y(s)("pleaseEnterInviteCode")},null,8,we),[[h,y(j).activeCode,void 0,{trim:!0}]])])]),y(B)?(p(),v("div",ke,[m("div",xe,w(y(s)("verificationCode")),1),m("div",Ee,[g(m("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=e=>y(j).code=e),placeholder:y(s)("pleaseEnterVerificationCode")},null,8,Pe),[[h,y(j).code,void 0,{trim:!0}]]),m("div",Le,[y(S)?(p(),v("span",Ae,[P(t,{time:y(R),format:"ss",onFinish:z},null,8,["time"])])):(p(),v("span",{key:0,onClick:o[9]||(o[9]=(...e)=>y(D)&&y(D)(...e))},w(y(s)("sendVerifyCode")),1))])])])):E("",!0)]),m("div",{class:"account-login-btn",onClick:o[10]||(o[10]=(...e)=>y(G)&&y(G)(...e))},[m("span",null,w(y(s)("register")),1)]),m("div",{class:"account-login-btn2",onClick:o[11]||(o[11]=e=>y(A).push("/login"))},[x(w(y(s)("alreadyHaveAccount"))+" "+w(y(_))+" "+w(y(s)("account"))+"? ",1),m("span",null,w(y(s)("login")),1)]),m("div",be,[m("div",null,[x(w(y(s)("continueToRegister"))+" ",1),m("span",{onClick:o[12]||(o[12]=e=>y(A).push("/userAgreement"))}," 《"+w(y(_))+" "+w(y(s)("userAgreement"))+"》 ",1),x(" "+w(y(s)("and"))+" ",1),m("span",{onClick:o[13]||(o[13]=e=>y(A).push("/privacyPolicy"))},"《"+w(y(s)("privacyPolicy"))+"》",1)])])])}}},[["__scopeId","data-v-e5868ac0"]]),Ne={class:"account-login"},Ve={class:"account-login-form"},Ue={class:"account-login-form-item"},Te={class:"account-login-form-item-input"},Me={class:"account-login-form-item-input-code"},_e=["placeholder"],Re={class:"account-login-form-item"},Se={class:"account-login-form-item-input"},ze=["type","placeholder"],je={class:"account-login-tip"},Ze={class:"account-login-form-item"},De={class:"account-login-form-item-input"},qe=["type","placeholder"],$e={class:"account-login-form-item"},Be={class:"account-login-form-item-label"},Ge={style:{"font-size":"12px"}},Oe={class:"account-login-form-item-input"},Fe=["placeholder"],He={key:0,class:"account-login-form-item"},We={class:"account-login-form-item-input"},Xe=["placeholder"],Ye={class:"code"},Je={key:1},Ke={class:"account-login-tip",style:{"margin-top":"24px"}},Qe=e({__name:"MobileRegister",setup(e){const{t:n}=o(),c=a(),A=t(),b=d(),I=u("86"),_=u(""),R=u(!1),S=u(!1),z=u(0),j=u(!1),Z=u({areaNum:"",phoneNum:"",phone:"",loginPassword:"",activeCode:"",code:"",signType:2}),D="ArkaDex",q=()=>{j.value=!1},$=u(!1),B=e=>{e.phoneCode&&(I.value=e.phoneCode),$.value=!1},G=u(!1),O=V(()=>{Z.value.phoneNum?(G.value=!0,s("REGISTER",I.value+Z.value.phoneNum).then(e=>{"200"==e.code?(G.value=!1,U(e.msg),j.value=!0,z.value=6e4):G.value=!1})):U(n("pleaseEnterPhone"))},100),F=r(()=>c.getLoginMethodList.autoLogin),H=r(()=>!!c.getLoginMethodList.inviteCodeRequired),W=r(()=>c.getLoginMethodList.phoneCode),X=N(()=>{Z.value.phoneNum?Z.value.loginPassword?/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)[A-Za-z\d]{8,32}$/.test(Z.value.loginPassword)?_.value?!H.value||Z.value.activeCode?!W.value||Z.value.code?Z.value.loginPassword===_.value?(Z.value.phone=I.value+Z.value.phoneNum,l(Z.value).then(e=>{"200"==e.code?(U(n("registerSuccess")),F.value?setTimeout(()=>{if("200"==e.code&&e.data.satoken){U(n("loginSuccess"));let o=e.data.satoken;A.setIsSign(!0),A.setToken(o),setTimeout(()=>{b.replace("/"),A.getUserInfo()},500)}else U(e.msg)},1e3):b.push("/login")):U(e.msg)})):U(n("passwordNotMatch")):U(n("pleaseEnterVerificationCode")):U(n("pleaseEnterInviteCode")):U(n("pleaseEnterPasswordAgain")):U(n("pleaseEnterPasswordLength")):U(n("pleaseEnterPassword")):U(n("pleaseEnterPhone"))},3e3);return(e,o)=>{const a=i,t=T;return p(),v(L,null,[m("div",Ne,[m("div",Ve,[m("div",Ue,[m("div",Te,[m("div",Me,[x(" +"+w(y(I))+" ",1),(p(),v("svg",{onClick:o[0]||(o[0]=e=>$.value=!0),xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},o[15]||(o[15]=[m("path",{d:"M0.857387 3.49872C0.857387 3.67337 0.922461 3.84802 1.05305 3.98127L5.95544 8.98371C6.21618 9.25022 6.63961 9.25022 6.90079 8.98371L11.8036 3.98127C12.0648 3.71476 12.0648 3.28314 11.8036 3.01663C11.5429 2.75011 11.1195 2.75011 10.8583 3.01663L6.42834 7.53651L1.99885 3.01663C1.73767 2.75011 1.31469 2.75011 1.0535 3.01663C0.922461 3.14943 0.857387 3.32408 0.857387 3.49872Z",fill:"#C2C3CD"},null,-1)])))]),g(m("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=e=>y(Z).phoneNum=e),placeholder:y(n)("pleaseEnterPhone"),pattern:"[0-9]*"},null,8,_e),[[h,y(Z).phoneNum,void 0,{trim:!0}]])])]),m("div",Re,[m("div",Se,[g(m("input",{type:y(R)?"text":"password","onUpdate:modelValue":o[2]||(o[2]=e=>y(Z).loginPassword=e),placeholder:y(n)("pleaseEnterPassword")},null,8,ze),[[C,y(Z).loginPassword,void 0,{trim:!0}]]),y(R)?(p(),f(a,{key:1,onClick:o[4]||(o[4]=e=>R.value=!y(R)),name:"openeyes",style:{width:"16px",height:"16px"}})):(p(),f(a,{key:0,onClick:o[3]||(o[3]=e=>R.value=!y(R)),name:"bieyes",style:{width:"16px",height:"16px"}}))]),m("div",je,[m("div",null,w(y(n)("passwordLength")),1)])]),m("div",Ze,[m("div",De,[g(m("input",{type:y(S)?"text":"password","onUpdate:modelValue":o[5]||(o[5]=e=>k(_)?_.value=e:null),placeholder:y(n)("pleaseEnterPasswordAgain")},null,8,qe),[[C,y(_),void 0,{trim:!0}]]),y(S)?(p(),f(a,{key:1,onClick:o[7]||(o[7]=e=>S.value=!y(S)),name:"openeyes",style:{width:"16px",height:"16px"}})):(p(),f(a,{key:0,onClick:o[6]||(o[6]=e=>S.value=!y(S)),name:"bieyes",style:{width:"16px",height:"16px"}}))])]),m("div",$e,[m("div",Be,[x(w(y(n)("inviteCode"))+" ",1),m("span",Ge," ("+w(y(H)?y(n)("required"):y(n)("optional"))+") ",1)]),m("div",Oe,[g(m("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=e=>y(Z).activeCode=e),placeholder:y(n)("pleaseEnterInviteCode")},null,8,Fe),[[h,y(Z).activeCode,void 0,{trim:!0}]])])]),y(W)?(p(),v("div",He,[m("div",We,[g(m("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=e=>y(Z).code=e),placeholder:y(n)("pleaseEnterVerificationCode")},null,8,Xe),[[h,y(Z).code,void 0,{trim:!0}]]),m("div",Ye,[y(j)?(p(),v("span",Je,[P(t,{time:y(z),format:"ss",onFinish:q},null,8,["time"])])):(p(),v("span",{key:0,onClick:o[10]||(o[10]=(...e)=>y(O)&&y(O)(...e))},w(y(n)("sendVerifyCode")),1))])])])):E("",!0)]),m("div",{class:"account-login-btn",onClick:o[11]||(o[11]=(...e)=>y(X)&&y(X)(...e))},w(y(n)("register")),1),m("div",{class:"account-login-btn2",onClick:o[12]||(o[12]=e=>y(b).push("/login"))},[x(w(y(n)("alreadyHaveAccount"))+" "+w(y(D))+" "+w(y(n)("account"))+"? ",1),m("span",null,w(y(n)("login")),1)]),m("div",Ke,[m("div",null,[x(w(y(n)("continueToRegister"))+" ",1),m("span",{onClick:o[13]||(o[13]=e=>y(b).push("/userAgreement"))}," 《"+w(y(D))+" "+w(y(n)("userAgreement"))+"》 ",1),x(" "+w(y(n)("and"))+" ",1),m("span",{onClick:o[14]||(o[14]=e=>y(b).push("/privacyPolicy"))},"《"+w(y(n)("privacyPolicy"))+"》",1)])])]),P(M,{showBottom:y($),onClose:B},null,8,["showBottom"])],64)}}},[["__scopeId","data-v-ac3066e3"]]),eo={class:"login"},oo={class:"login-header"},ao={class:"login-header-title"},to={class:"login-header-tab"},lo=["onClick"],io={class:"login-content"},no=e({__name:"index",setup(e){const{t:t}=o(),l=a(),i=u(0),n=r(()=>{let e=[];if(l.getLoginMethodList.ordinaryIsOpen){let o={id:1};o.title=t("account"),o.type="1",o.componentName=te,e.push(o)}if(l.getLoginMethodList.emailIsOpen){let o={id:2};o.title=t("email"),o.type="2",o.componentName=Ie,e.push(o)}if(l.getLoginMethodList.phoneIsOpen){let o={id:3};o.title=t("phone"),o.type="3",o.componentName=Qe,e.push(o)}return e});return(e,o)=>{const a=c;return p(),v(L,null,[P(a),m("div",eo,[m("div",oo,[m("div",ao,w(y("ArkaDex"))+" "+w(y(t)("welcome")),1),m("div",to,[(p(!0),v(L,null,A(y(n),(e,o)=>(p(),v("div",{class:I(["login-header-tab-item",{active:y(i)===o}]),key:o,onClick:e=>i.value=o},w(e.title),11,lo))),128))])]),m("div",io,[(p(),f(b(y(n)[y(i)].componentName)))])])],64)}}},[["__scopeId","data-v-98294937"]]);export{no as default};
